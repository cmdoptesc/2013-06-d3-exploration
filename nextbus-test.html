<html>
  <head>
    <title></title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.2.2/d3.v3.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>
  </head>
  <body>

    <form>
      <select id="routeSelector"></select>

      <select id="directionSelector"></select>

      <select id="stopSelector"></select>

      <select id="destSelector"></select>

      <input type="button" value="Add Stop" id="buttonRoute" />

    </form>

    <div class="chartsDiv"></div>

    <script type="text/javascript">
      var routeTag,
        routes,
        stopsInfo,
        stopId;

      var charts = [];

      $(function(){

        $("#routeSelector").change(function(){
          routeTag = $("#routeSelector").val();
          getRoute(routeTag);
        });

        $("#directionSelector").change(function(){
          displayStops(stopsInfo, routes, $("#directionSelector").val());
        });

        $("#stopSelector").change(function(){
          stopId = $("#stopSelector").val();

          if(charts[0]) {
            updateChart(stopId, routeTag, charts[charts.length-1]);
          }
        });

        $("#buttonRoute").click(function(){
          stopId = $("#stopSelector").val();
          charts.push(makeChart(stopId, routeTag));
        })

      });
    </script>
    <script type="text/javascript" src="nextbus-insert-routes.js"></script>
    <script type="text/javascript" src="nextbus-api-forms.js"></script>
    <script type="text/javascript" src="nextbus-d3.js"></script>
  </body>
</html>